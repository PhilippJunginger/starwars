<div class="container mx-auto">
    <div class="row m-2 border-bottom border-2 border-black">
        <form id="filterForm" class="container g-0">
            <div class="row mb-3">
                <div class="col-sm-4 col-xs-12">
                    <app-filter-field (click)="updateSelectedFilterType(FilterType.CHAR)" label="Character" [hasMinLengthError]="isCharacterFieldRequired() && hasMinLengthError" [value]="isCharacterFieldRequired() ? searchValue : ''" [isRequired]="isCharacterFieldRequired() || isNoSelection()" (onValueChange)="updateFilterValue($event)"></app-filter-field>
                </div>
                <div class="col-sm-4 col-xs-12">
                    <app-filter-field (click)="updateSelectedFilterType(FilterType.VEHICLE)" label="Vehicle" [hasMinLengthError]="isVehicleFieldRequired() && hasMinLengthError" [value]="isVehicleFieldRequired() ? searchValue : ''" [isRequired]="isVehicleFieldRequired() || isNoSelection()" (onValueChange)="updateFilterValue($event)"></app-filter-field>
                </div>
                <div class="col-sm-4 col-xs-12">
                    <app-filter-field (click)="updateSelectedFilterType(FilterType.SHIP)" label="Starship" [hasMinLengthError]="isStarshipFieldRequired() && hasMinLengthError" [value]="isStarshipFieldRequired() ? searchValue : ''" [isRequired]="isStarshipFieldRequired() || isNoSelection()" (onValueChange)="updateFilterValue($event)"></app-filter-field>
                </div>

            </div>
        </form>
        
        <button [disabled]="searchValue.length < 3" type="submit" form="filterForm" class="col-3 btn btn-primary ms-auto mb-3" (click)="handleSearch()" type="button">Search</button>
    </div>

    <div class="row mt-3">
        <div *ngFor="let movie of movies" class="col-xl-3 col-lg-4 col-md-6 col-sm-12 mb-4" >
            <app-film-card title="{{movie.title}}" description="{{movie.opening_crawl}}" director="{{movie.director}}" [isPartOfSearch]="this.isSearchResult(movie)"></app-film-card>
        </div>
    </div>
</div>
